os: linux
dist: xenial
language: python
python:
- '3.8'
virtualenv:
  system_site_packages: false

install:
  - pip install --upgrade pip setuptools wheel
  - pip install --upgrade flake8 flake8-black mypy

script:
  - flake8 src/ tests/
  - mypy src/

deploy:
  provider: pypi
  username: __token__
  password:
    secure: H4mFMbuUxohjAcDDbdyuCiMmd1H5EZxzDyiCGzZsW6LH1xYz5vo7eQDc3XlRhKgL26gvQP/P42oqt1mRjj33p6jLel0lzyLm3vDUUgg5PX/wasJEA1CGmM0+MVVqDWW4aRa1nkSz4Xu79uQYjHiV7KDwWMolfxrcs7vW+B8HRoCh0eQnCAHvKb8VhvUdhNS2vAO9sCSiWEzb1/u/5EJ71KMpT6T1WeySDwj9tgcpcobXItOuUk0JJIrYqQZWyt2OWDEijD6rjK0BHB0TqrXDm4xBdpv1q2KGIhY8t4635iA3Qu42Ok+FzLR+Cxm9qmVS1YQl5vNanJrvFZOcW/TafJZWYeOtPU4Crb+DvnstpeY/RvN77v4PQXj+31yPi3ug1Gse3Y/biMkQvOLCZSylUOJ5LXg4XpuedK2zpyIzAYIR3VSOobTedH9d8/3x5O3u1E7N7NgEyYByrJZI5UDmk5ZvVcX+iDYbtszG3q9EH33ZzdFvjf3UIIX+dBgZKkNt2WG6+ms+cjPN16eiAYg511QDZT3NXClxEIQXi0liVVBRZLMPzyqcTuNUM0fO5nv+FaAP3vry7nHY+l9hf11aQiwJ8uo4iSV/cIovVCVQvJrYuHpdqITh0I93QaHuSio/e7PL3wIZ9pcdBFzXAEeS79+zQNtCVwe3Tc65AlPo4fQ=
  on:
    tags: true
